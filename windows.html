<!DOCTYPE HTML>
<html>

<head>
  <title>MDsrv</title>
  <meta name="description" content="MDsrv - a web-based tool developed to provide easy and quick on-line access to molecular dynamics (MD) simulations, channeling MD trajectories through a web server using a powerful web application (NGL viewer) to visualize them." />
  <meta name="keywords" content="MDsrv, MD simulation, visualization, web server, NGL" />
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <link rel="stylesheet" type="text/css" href="css/style.css" />
  <!-- modernizr enables HTML5 elements and feature detects -->
  <script type="text/javascript" src="js/modernizr-1.5.min.js"></script>
  <script src="js/jquery.js"></script>
  <script> 
  $(function(){
    $("#header").load("include/header.html");
    $("#side").load("include/side.html");
		$("#side-install").load("include/side-install.html");
    $("#footer").load("include/footer.html"); 
  });
  </script> 
</head>

<body>
  <div id="main">
    <div id="header"></div>
    <div id="site_content">
			<div id="side-install"></div>
      <div class="content">

<h1>Installation & Deployment under WINDOWS</h1>
<p align=justify>Here, we give a guide how to install and deploy MDsrv under WINDOWS. This has <strong>not</strong> been tested so far!</p>
<h3>0. Install PYTHON conda</h3>
<p align=justify>Install python from conda by downloading and executing <a target="_blank" href="https://conda.io/miniconda.html">miniconda</a>. From now on, please use the conda command promt.</p>
<h3>1. Install the MDsrv</h3>
<p align=justify>As MDsrv is depending on MDTraj, only conda installation is supported for windows. This might change in future updates</p>
<pre><code>conda config --add channels conda-forge</code></pre>
<pre><code>conda install mdsrv</code></pre>
<br>
<p align=justify><strong>Dependencies:</strong> As MDsrv depends on MDTraj, some packages need to be installed in advance to garantee, that MDTraj is working. Install those packages using conda.</p>
<pre><code>mdtraj:cython, numpy, scipy</code></pre>
<pre><code>mdsrv: setuptools, flask</code></pre>

<br>

<h3>2. Install Apache2 and WSGI</h3>

<p align=justify>To serve MDsrv as an <a target="_blank" href="http://httpd.apache.org/">Apache</a> Webserver via <a target="_blank" href="https://modwsgi.readthedocs.org">mod_wsgi</a>, install apache2 and libapache2-mod-wsgi to your system. Please follow one of those tutorials: <a target="_blank" href="https://www.devbattles.com/en/sand/post-304-using+Apache+and+Python+WSGI+on+Windows">tutorial 1</a>, <a target="_blank" href="https://beamtic.com/installing-mod-wsgi-apache-windows">tutorial 2</a>. The latest stable <em>mod_wsgi</em> version with windows support is <a href="https://github.com/GrahamDumpleton/mod_wsgi/releases/tag/4.4.12">version 4.4.12</a>.
</p>

<h3>3. Add MDsrv-wsgi settings to apache.config</h3>
 <p align=justify>Add the content of <a target="_blank" download="apache-win.config" href="data/apache-win.config">apache.config</a> into <em>httpd.conf</em>.</p>
  <p align=justify><strong>Important:</strong> This is <strong>not</strong> tested!
 For further information on <em>apache.config</em>, please consult the <a target="_blank" href="https://httpd.apache.org/docs/2.4/en/">documentation</a>.</p>

<h3>4. Add html for MDsrv gui</h3>
<p>Copy <a target="_blank" href="data/mdsrv.html">mdsrv.html</a>.</p>

<h3>5. Add & adjust the MDsrv configuration file</h3>
<p align=justify>Download the configuration file <a target="_blank" href="data/app.cfg">app.cfg</a> and save it within a secure directory. Here, you can change the host and port, the list of directories where you store your structure and trajectory files (<em>DATA_DIRS</em>) and the security settings. The content and setting is explained <a href="configuration.html">elsewhere</a>.</p>

<h3>6. Place mdsrv.wsgi</h3>
<p align=justify>Generate a folder mdsrv in <em>C:/apache/wsgi</em> (as created by following the wsgi tutorial) and place <a target="_blank" href="data/mdsrv.wsgi">mdsrv.wsgi</a> into this folder. Add the path of the configuration file (<a target="_blank" href="data/app.cfg">app.cfg</a>) into the <a target="_blank" href="data/mdsrv.wsgi">mdsrv.wsgi</a> file including the name of the file (<em>APP_CFG = 'C:/home/nickname/important/app.cfg'</em>). Restart now the apache server.</p>

<h3>7. Restart the apache server</h3>
<p align=justify>Whenever the <a target="_blank" href="data/app.cfg">app.cfg</a> file is changed, the apache server has to be restarted. If content within the directories is changed, a restart is not necessary. 
</p>

<h3>8. Access & Visualize your simulations</h3>
<p align=justify>The MDsrv with the structures and trajectories within the defined folder can be reached at <em>http://localhost/mdsrv.html</em> by loading a structure via "File -> Import" and adding afterwards the trajectory within the structure menu by selecting "Remote trajectory - import". Find out more about the NGL gui at <a target="_blank" href="viewing.html">viewing</a> or <a target="_blank" href="loading.html">load trajectories</a> chapter.</p>

<h1><a id="more" class="anchor" href="#more" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>More</h1>

<p align=justify>If you have any <strong>questions</strong>, found some <strong>bugs</strong>, or want to report
<strong>enhancement requests</strong> use the <a target="_blank" href="https://github.com/arose/mdsrv/issues">Issue Tracker</a>, use the <a href="contact.html">contact formular</a> or write a mail to
<a href="mailto:johanna.tiemann@gmail.com">johanna.tiemann@gmail.com</a> or
<a href="mailto:alexander.rose@weirdbyte.de">alexander.rose@weirdbyte.de</a>.</p>

<p>Please give us <strong>feedback</strong>!</p>

      </div>
    </div>
    <div id="scroll">
      <a title="Scroll to the top" class="top" href="#"><img src="images/top.png" alt="top" /></a>
    </div>
  <div id="footer"></div>
  </div>
</body>
</html>